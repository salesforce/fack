<% if current_user %>
  <div class="bg-white  rounded-lg  mb-6">
    <%= form_with model: [@document, Comment.new], local: true, class: "space-y-3" do |form| %>
      <%= form.text_area :content, 
          placeholder: "Share your thoughts about this document...", 
          rows: 4, 
          class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent resize-vertical" %>
      
      <div class="flex justify-between items-center">
        <p class="text-sm text-gray-500">Maximum 2000 characters</p>
        <%= form.submit "Post Comment", 
            class: "px-6 py-2 bg-sky-600 text-white rounded-md hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 disabled:opacity-50 disabled:cursor-not-allowed" %>
      </div>
    <% end %>
  </div>
<% else %>
  <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6 text-center">
    <p class="text-gray-600">
      <%= link_to "Sign in", new_session_path, class: "text-sky-600 hover:text-sky-800 font-medium" %> 
      to add a comment.
    </p>
  </div>
<% end %>
